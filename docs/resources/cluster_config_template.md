---
page_title: "spectrocloud_cluster_config_template Resource - terraform-provider-spectrocloud"
subcategory: ""
description: |-
  A resource for creating and managing cluster config templates. Tech Preview: This resource is in tech preview and may undergo changes.
---

# spectrocloud_cluster_config_template (Resource)

  A resource for creating and managing cluster config templates. Tech Preview: This resource is in tech preview and may undergo changes.

## Example Usage

### Basic Cluster Config Template

```terraform
resource "spectrocloud_cluster_config_template" "basic_template" {
  name        = "basic-aws-template"
  cloud_type  = "aws"
  context     = "project"
  description = "Basic AWS cluster configuration template"
  
  tags = ["env:production", "team:platform"]

  cluster_profile {
    id = spectrocloud_cluster_profile.infra_profile.id
  }

  cluster_profile {
    id = spectrocloud_cluster_profile.addon_profile.id
  }
}
```

### Template with Maintenance Policy

```terraform
resource "spectrocloud_cluster_config_template" "template_with_policy" {
  name        = "aws-template-with-maintenance"
  cloud_type  = "aws"
  context     = "project"
  description = "AWS cluster template with maintenance policy"
  
  tags = ["env:staging", "critical", "automated"]

  cluster_profile {
    id = spectrocloud_cluster_profile.infra_profile.id
  }

  policy {
    id   = spectrocloud_cluster_config_policy.weekly_maintenance.id
    kind = "maintenance"
  }
}
```

### Tenant-Level Template

```terraform
resource "spectrocloud_cluster_config_template" "tenant_template" {
  name        = "organization-wide-template"
  cloud_type  = "azure"
  context     = "tenant"
  description = "Organization-wide Azure cluster template"
  
  tags = ["tenant:wide", "compliance:required"]

  cluster_profile {
    id = spectrocloud_cluster_profile.base_profile.id
  }
}
```

## Import

Cluster config templates can be imported using the template ID or template name:

```shell
terraform import spectrocloud_cluster_config_template.example <template_uid>/<template_name>
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cloud_type` (String) The cloud type for the cluster template. Examples: 'aws', 'azure', 'gcp', 'vsphere', etc.
- `name` (String) The name of the cluster config template.

### Optional

- `cluster_profile` (Block Set) Set of cluster profile references. (see [below for nested schema](#nestedblock--cluster_profile))
- `context` (String) The context of the cluster config template. Allowed values are `project` or `tenant`. Default value is `project`. If  the `project` context is specified, the project name will sourced from the provider configuration parameter [`project_name`](https://registry.terraform.io/providers/spectrocloud/spectrocloud/latest/docs#schema).
- `description` (String) The description of the cluster config template.
- `policy` (Block List, Max: 1) List of policy references. (see [below for nested schema](#nestedblock--policy))
- `tags` (Set of String) Assign tags to the cluster config template. Tags can be in the format `key:value` or just `key`.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `upgrade_now` (String) Timestamp to trigger an immediate upgrade for all clusters launched from this template. NOTE: The upgrade executes immediately when this value changes - the timestamp does NOT schedule a future upgrade. Set this to the current timestamp each time you want to trigger an upgrade. This field can also be used for tracking when upgrades were triggered by the user. Format: RFC3339 (e.g., '2024-01-15T10:30:00Z'). Example: To trigger an upgrade now, set to current time like '2024-11-12T15:30:00Z'.

### Read-Only

- `attached_cluster` (List of Object) List of clusters attached to this template. (see [below for nested schema](#nestedatt--attached_cluster))
- `execution_state` (String) Current execution state of the cluster template. Possible values: `Pending`, `Applied`, `Failed`, `PartiallyApplied`.
- `id` (String) The ID of this resource.

<a id="nestedblock--cluster_profile"></a>
### Nested Schema for `cluster_profile`

Required:

- `id` (String) ID of the cluster profile.

Optional:

- `variables` (Block Set) Set of profile variable values and assignment strategies. (see [below for nested schema](#nestedblock--cluster_profile--variables))

<a id="nestedblock--cluster_profile--variables"></a>
### Nested Schema for `cluster_profile.variables`

Required:

- `name` (String) Name of the variable.

Optional:

- `assign_strategy` (String) Assignment strategy for the variable. Allowed values are `all` or `cluster`. Default is `all`.
- `value` (String) Value of the variable to be applied to all clusters launched from this template. This value is used when assign_strategy is set to 'all'.



<a id="nestedblock--policy"></a>
### Nested Schema for `policy`

Required:

- `id` (String) ID of the policy.

Optional:

- `kind` (String) Kind of the policy.


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)


<a id="nestedatt--attached_cluster"></a>
### Nested Schema for `attached_cluster`

Read-Only:

- `cluster_uid` (String)
- `name` (String)
