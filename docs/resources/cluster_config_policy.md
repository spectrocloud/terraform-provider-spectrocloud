---
page_title: "spectrocloud_cluster_config_policy Resource - terraform-provider-spectrocloud"
subcategory: ""
description: |-
  A resource for creating and managing cluster config policies (maintenance policies).
---

# spectrocloud_cluster_config_policy (Resource)

  A resource for creating and managing cluster config policies (maintenance policies).

## Example Usage

Basic maintenance policy with a weekly schedule.

```terraform
resource "spectrocloud_cluster_config_policy" "weekly_maintenance" {
  name    = "weekly-maintenance-policy"
  context = "project"

  schedules {
    name         = "sunday-maintenance"
    start_cron   = "0 2 * * SUN"
    duration_hrs = 4
  }
}
```

Maintenance policy with multiple schedules and tags.

```terraform
resource "spectrocloud_cluster_config_policy" "multi_schedule" {
  name    = "multi-schedule-policy"
  context = "project"
  tags    = ["env:production", "team:devops", "critical"]

  schedules {
    name         = "weekday-maintenance"
    start_cron   = "0 1 * * 1-5"
    duration_hrs = 2
  }

  schedules {
    name         = "weekend-maintenance"
    start_cron   = "0 3 * * 0,6"
    duration_hrs = 6
  }
}
```

Tenant-level maintenance policy.

```terraform
resource "spectrocloud_cluster_config_policy" "tenant_policy" {
  name    = "tenant-wide-maintenance"
  context = "tenant"

  schedules {
    name         = "monthly-maintenance"
    start_cron   = "0 3 1 * *"
    duration_hrs = 8
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the cluster config policy.

### Optional

- `context` (String) The context of the cluster config policy. Allowed values are `project` or `tenant`. Default value is `project`. If  the `project` context is specified, the project name will sourced from the provider configuration parameter [`project_name`](https://registry.terraform.io/providers/spectrocloud/spectrocloud/latest/docs#schema).
- `schedules` (Block List) List of maintenance schedules for the policy. (see [below for nested schema](#nestedblock--schedules))
- `tags` (Set of String) Assign tags to the cluster config policy. Tags can be in the format `key:value` or just `key`.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--schedules"></a>
### Nested Schema for `schedules`

Required:

- `duration_hrs` (Number) Specifies the time window in hours during which the system is allowed to start upgrades on eligible clusters. Valid range: 1-24.
- `name` (String) Name of the upgrade schedule.
- `start_cron` (String) Cron expression for the start time of the schedule.


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)

