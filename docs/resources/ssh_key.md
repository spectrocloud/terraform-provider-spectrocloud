---
page_title: "spectrocloud_ssh_key Resource - terraform-provider-spectrocloud"
subcategory: ""
description: |-
  The SSH key resource allows you to manage SSH keys in Palette.
---

# spectrocloud_ssh_key (Resource)

  The SSH key resource allows you to manage SSH keys in Palette.

You can learn more about managing SSH keys in Palette by reviewing the [SSH Keys](https://docs.spectrocloud.com/clusters/cluster-management/ssh-keys/) guide.

~> The `ssh_key` resource will not generate an SSH key pair. You must provide the public key to an existing SSH key as a string value to the `ssh_key` attribute. Refer to the [Generate Key with TLS Provider](#generate-ssh-key-with-tls-provider) section for additonal guidance.

## Example Usage

An example of creating an SSH key resource in Palette.

```hcl
resource "spectrocloud_ssh_key" "ssh_tenant" {
  name        = "ssh-dev-1"
  context     = "project"
  ssh_key = "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDZ....."
}
```

The example below demonstrates how to create an SSH key resource in Palette with the `context` attribute set to `tenant`.

```hcl
resource "spectrocloud_ssh_key" "ssh_tenant" {
  name        = "ssh-dev-1"
  context     = "tenant"
  ssh_key = var.ssh_key_value
}
```

### Generate SSH Key with TLS Provider

The `ssh_key` resource will not generate an SSH key pair for you. This resource allows you upload and manage existing SSH keys in Palette that you can use to access your clusters. You can use the official HashiCorp [TLS provider](https://registry.terraform.io/providers/hashicorp/tls/latest/docs) to generate an SSH key pair and use the public key as a string value to the `ssh_key` attribute.


The following is an example of using the [`tls_private_key`](https://registry.terraform.io/providers/hashicorp/tls/latest/docs/resources/private_key) resource to generate an SSH key pair and use the public key as a string value to the `sshe_key` resource's `ssh_key` attribute. Keep in mind that you must specify the TLS provider  in the `required_providers` block.


-> Use the `trimspace` function to remove any leading or trailing white spaces from the public key string.

```hcl
resource "tls_private_key" "default_ssh_key" {
  algorithm = "RSA"
  rsa_bits  = "4096"
}

resource "spectrocloud_ssh_key" "primary_key_1" {
  name        = "ssh-dev-1"
  context     = "tenant"
  ssh_key = trimspace(tls_private_key.default_ssh_key.public_key_openssh)
}
```

## Import

SSH keys can be imported using either a simple ID format or with explicit context specification. This resource supports both project and tenant contexts.

### Simple Import (defaults to project context)

```bash
terraform import spectrocloud_ssh_key.example <ssh_key_id>
```

### Context-specific Import

```bash
terraform import spectrocloud_ssh_key.example <ssh_key_id>:project
terraform import spectrocloud_ssh_key.example <ssh_key_id>:tenant
```

Where:
- `<ssh_key_id>` is the SSH key ID
- `project` or `tenant` specifies the context where the SSH key exists

**Import behavior:**
- If no context is specified, it defaults to `project` context
- If the resource is not found in the specified context, the import will automatically try the other context
- The import will automatically populate all configuration fields from the Spectro Cloud API, including the correct context, name, and SSH key content

After import, you can run `terraform plan` to see the current configuration and make any necessary adjustments.


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the SSH key resource.
- `ssh_key` (String, Sensitive) The SSH key value. This is the public key that will be used to access the cluster. Must be in the [Authorized Keys](https://www.ssh.com/academy/ssh/authorized-keys-openssh#format-of-the-authorized-keys-file) format, such as `ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDZ...`

### Optional

- `context` (String) The context of the cluster profile. Allowed values are `project` or `tenant`. Default value is `project`. If  the `project` context is specified, the project name will sourced from the provider configuration parameter [`project_name`](https://registry.terraform.io/providers/spectrocloud/spectrocloud/latest/docs#schema).
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)